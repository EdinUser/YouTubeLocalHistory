# 🎬 YT re:Watch - YouTube History Extension for Multiple Accounts & Privacy

[![Tests](https://github.com/EdinUser/YouTubeLocalHistory/actions/workflows/ci.yml/badge.svg)](https://github.com/EdinUser/YouTubeLocalHistory/actions/workflows/ci.yml)
[![Release](https://img.shields.io/github/v/release/EdinUser/YouTubeLocalHistory)](https://github.com/EdinUser/YouTubeLocalHistory/releases)
[![Telegram Channel](https://img.shields.io/badge/Community-Telegram-2AABEE?logo=telegram&logoColor=white)](https://t.me/+eFftKWGVvSpiZjZk)

# 📚 **[→ New User? Start Here! User-Friendly Guide](./docs/INDEX.md) ←**

<div align="center">
  <strong>🔄 YouTube Account Switching Made Easy! Same history across ALL accounts + YouTube history privacy!</strong>
  <br>
  <em>🔄 Multi-account extension • 📊 History privacy • ✨ No login required • 🎯 Progress tracking</em>
  <br>
  <em>📖 <a href="./docs/FAQ.md">FAQ</a> | 📚 <a href="./docs/DETAILED_GUIDE.md">Complete Guide</a> | 🔧 <a href="./docs/TECHNICAL.md">Developer Docs</a></em>
</div>

---

<div align="center">
  <img src="./src/icon128.png" alt="YT re:Watch YouTube History Extension" width="96" height="96">
  
  [![Chrome Web Store](https://img.shields.io/badge/Get_it_on-Chrome_Web_Store-4285F4?logo=googlechrome&logoColor=white)](https://chromewebstore.google.com/detail/local-youtube-video-histo/pebiokefjgdbfnkolmblaaladkmpilba)
  [![Firefox Add-ons](https://img.shields.io/badge/Get_it_on-Firefox_Add--ons-FF7139?logo=firefox-browser&logoColor=white)](https://addons.mozilla.org/firefox/addon/yt-rewatch/)
  
  *YouTube progress tracking without account limitations - Your viewing history stays private*
</div>

---

## 🎯 Perfect for YouTube Multiple Accounts & Privacy

**🔄 Tired of losing YouTube progress when switching accounts? Need YouTube history without login?**

YT re:Watch is the **YouTube history extension** that solves account switching problems:

### 🔄 **YouTube Multiple Accounts Support**
- ✅ **Same history across ALL YouTube accounts** - switch freely without losing progress
- ✅ **YouTube without login** - track videos without any account required
- ✅ **Account switching made easy** - consistent viewing history regardless of login status
- ✅ **Multi-account workflow** - perfect for work/personal YouTube accounts
- ✅ **Family computer friendly** - separate histories without account conflicts

### 🎯 **YouTube Progress Tracking & Visual Overlays**
- ✅ **Progress bars on YouTube** - see completion percentage on video thumbnails
- ✅ **"Viewed" labels** - customizable overlay showing watched videos
- ✅ **Resume where you left off** - automatic video position tracking
- ✅ **YouTube Shorts tracking** - separate tracking for short-form content
- ✅ **Playlist discovery** - track and organize YouTube playlists

### 🔒 **YouTube History Privacy** 
- ✅ **Local storage only** - Google doesn't get your viewing progress data
- ✅ **No YouTube tracking** - replaces Google's built-in history system
- ✅ **Private YouTube browsing** - watch without affecting recommendations
- ✅ **Cross-device sync** (Firefox) - private history sync across devices

### ⚠️ **Privacy Transparency**
**What this extension protects:** YouTube viewing history and video progress tracking only  
**What it DOESN'T protect:** IP tracking, cookies, browser fingerprinting, or other Google tracking

**For complete privacy:** Combine with VPN, ad blockers, and privacy-focused browsers

## 🚀 Get Started in 30 Seconds

### Step 1: Install the Extension
**Chrome Users:** [Get it from Chrome Web Store →](https://chromewebstore.google.com/detail/local-youtube-video-histo/pebiokefjgdbfnkolmblaaladkmpilba)

**Firefox Users:** [Get it from Firefox Add-ons →](https://addons.mozilla.org/firefox/addon/yt-rewatch/)

### Step 2: That's It!
- Go to YouTube and start watching videos
- The extension works automatically in the background
- Click the extension icon to see your watch history

## 🎯 Perfect For These YouTube Users

### 🔄 **Multi-Account Users** (#1 Use Case!)
- "I have work and personal YouTube accounts - hate losing progress when switching"
- "My family shares this computer and we need separate YouTube histories"
- "I manage multiple YouTube channels and need consistent tracking"
- "I want to use YouTube without staying logged in"

### 🔒 **Privacy-Focused Users**
- "I want YouTube history without Google tracking my viewing habits"
- "I need to research topics without affecting my recommendations"
- "I want to browse YouTube anonymously but still track what I watch"
- "I need a private alternative to YouTube's built-in history"

### 👨‍🎓 **Students & Content Creators**
- "I watch educational content across different devices and accounts"
- "I need to track my viewing progress without Google profiling"
- "I want consistent YouTube history for research projects"
- "I need to analyze my viewing patterns privately"

---

## 📱 What You'll See on YouTube

### 🏷️ **Visual Overlays** (Key Feature!)
The extension adds smart visual indicators directly on YouTube:
- **"Viewed" labels** - Customizable text showing watched videos
- **Progress bars** - Visual completion percentage on video thumbnails  
- **Custom colors** - Choose from blue, red, green, purple, or orange
- **Adjustable size** - Small, medium, large, or extra-large labels
- **Works everywhere** - Video listings, search results, recommendations

### 🎛️ **Extension Interface**
Click the extension icon to access:
- **Videos Tab** - Your main viewing history with progress tracking
- **Shorts Tab** - Separate tracking for YouTube Shorts
- **Playlists Tab** - Discovered playlists with metadata
- **Analytics Tab** - Interactive charts showing viewing patterns
- **Settings Tab** - Full customization options

---

## 🗂️ Key Features

### 🔄 **Multi-Account & Privacy**
- **Account Independence**: Same YouTube history across all accounts (or no account)
- **Local Storage**: All data stored securely on your device only
- **No Google Tracking**: YouTube doesn't get your viewing progress data
- **Export/Import**: Backup and restore your YouTube history anytime

### 🎯 **Progress Tracking**
- **Visual Overlays**: Customizable "viewed" labels and progress bars
- **Auto-save**: Tracks video position every 5 seconds
- **YouTube Shorts**: Separate tracking for short-form content
- **Playlist Discovery**: Track and organize YouTube playlists

### 📊 **Analytics & Insights**
- **Interactive Charts**: Viewing patterns by hour and day
- **Longest Unfinished Videos**: Quickly resume long videos you haven't finished (shows channel, time left, and link)
- **Top Watched Channels**: See your top 5 channels by videos watched (with links)
- **Top Skipped Channels**: See your top 5 channels where you most often skip long videos (with links)
- **Completion Bar Chart**: Visualize your completion rate for long videos (skipped, partial, completed) with a bar chart and legend
- **Weekly Activity**: Visualize your YouTube usage patterns

### 🔄 **Cross-Device Sync (Firefox)**
- **Firefox Sync**: Automatic cross-device synchronization
- **Conflict Resolution**: Smart handling of sync conflicts
- **Manual Sync**: Trigger sync anytime from settings
- **Status Indicator**: Visual sync progress tracking

### 🎨 **User Experience**
- **Modern Interface**: Clean, card-based layout
- **Dark/Light Theme**: Automatic system theme detection
- **Smart Search**: Find videos quickly in your history
- **Responsive Design**: Works perfectly on all screen sizes

---

## 🤝 Community & Support

- 💬 **[Join our Telegram community](https://t.me/+eFftKWGVvSpiZjZk)** - Get help, share tips, and connect with other users
- 📖 **[Read our documentation](./docs/INDEX.md)** - Complete guides for all skill levels
- 🐛 **[Report bugs on GitHub](https://github.com/EdinUser/YouTubeLocalHistory/issues)** - Help improve the extension
- ⭐ **[Rate us on browser stores](https://chromewebstore.google.com/detail/local-youtube-video-histo/pebiokefjgdbfnkolmblaaladkmpilba)** - Support the project

---

## 📥 Installation

### 🔥 **Recommended: Install from Browser Stores**

**Chrome Users:**
[![Get YT re:Watch on Chrome Web Store](https://img.shields.io/badge/Get_YT_re:Watch_on-Chrome_Web_Store-4285F4?logo=googlechrome&logoColor=white)](https://chromewebstore.google.com/detail/local-youtube-video-histo/pebiokefjgdbfnkolmblaaladkmpilba)

**Firefox Users:**
[![Get it on Firefox Add-ons](https://img.shields.io/badge/Get_it_on-Firefox_Add--ons-FF7139?logo=firefox-browser&logoColor=white)](https://addons.mozilla.org/firefox/addon/yt-rewatch/)

### 🔧 **For Developers: Manual Installation**

<details>
<summary>Click to expand developer installation instructions</summary>

**Chrome:**
1. Run `./build.sh` to build the extension
2. Open Chrome → `chrome://extensions/`
3. Enable "Developer mode"
4. Click "Load unpacked" and select the `dist/chrome` folder

**Firefox:**
1. Run `./build.sh` to build the extension
2. Open Firefox → `about:debugging#/runtime/this-firefox`
3. Click "Load Temporary Add-on" and select the `manifest.json` file from the `dist/firefox` folder

</details>

## Storage System

This extension uses `chrome.storage.local` (Chrome) or `browser.storage.local` (Firefox) for secure data storage instead of IndexedDB. This provides better security as the data cannot be easily accessed through browser developer tools.

### Migration from IndexedDB

If you're updating from a previous version that used IndexedDB, the extension will automatically migrate your existing data to the new storage system on first run. The migration process:

1. Reads all existing data from IndexedDB
2. Transfers it to the new storage system
3. Marks the migration as complete to avoid re-migration

### Data Structure

The extension stores three types of data:

- **Video History**: Video IDs, timestamps, progress, titles, and URLs
- **Playlist History**: Playlist IDs, titles, and URLs
- **Settings**: User preferences for overlay appearance, cleanup, and theme preferences

## Usage

1. **Install the extension** following the instructions above
2. **Visit YouTube** and start watching videos
3. **Your progress is automatically saved** every 5 seconds with smart timestamp loading to prevent video interruption
4. **Click the extension icon** to view your watch history across multiple tabs:
   - **Videos**: Regular YouTube videos with progress tracking
   - **Shorts**: Dedicated interface for YouTube Shorts
   - **Playlists**: Saved playlists with metadata
   - **Analytics**: Interactive charts and viewing statistics
   - **Settings**: Customize appearance, sync, and preferences
5. **Enable Firefox Sync** (Firefox users) for cross-device synchronization with real-time status updates

### Settings

#### 🎨 Appearance
- **Theme**: Choose between System (follows your OS theme), Light, or Dark theme with instant switching
- **Overlay Title**: Text to show in the overlay (max 12 characters)
- **Overlay Color**: Color of the progress bar overlay (blue, red, green, purple, orange)
- **Overlay Label Size**: Size of the overlay label and progress bar (small, medium, large, extra large)

#### 🗂️ Data Management  
- **Auto-clean Period**: Automatically remove history entries older than specified days (1-180 days)
- **Items per Page**: Number of items to show per page in history view (5-20)
- **Debug Mode**: Enable debug logging for troubleshooting

#### 🔄 Sync Settings (Firefox)
- **Enable/Disable Sync**: Toggle Firefox Sync integration
- **Sync Status**: Real-time sync status with last sync time
- **Manual Sync**: Trigger immediate sync or full sync with cleanup
- **Sync Indicator**: Visual status indicator in popup interface

### Theme System

The extension supports a comprehensive theme system:

- **System Theme**: Automatically follows your operating system's dark/light mode preference
- **Manual Themes**: Choose Light or Dark theme regardless of system setting
- **Dynamic Switching**: Theme changes are applied immediately without page refresh
- **Browser Integration**: Detects and responds to browser theme changes
- **Persistent Settings**: Your theme preference is saved and restored across sessions

### Progress Display

The history view now shows enhanced progress information:

- **Watched Time**: Shows the actual time you've watched (e.g., "5:30")
- **Percentage**: Shows the percentage of the video you've completed (e.g., "45%")
- **Combined Display**: Shows both time and percentage (e.g., "5:30 (45%)")
- **Accurate Tracking**: Only shows percentage when video duration is available
- **Progress Indicators**: Modern progress bars and visual indicators for each video and playlist

## Analytics Dashboard

The Analytics tab provides comprehensive insights into your YouTube viewing habits:

#### 📈 Viewing Patterns
- **Watch Time Distribution by Hour**: Interactive charts showing when you watch the most content
- **Weekly Activity Tracking**: Visualize your daily YouTube activity over the past 7 days
- **Content Type Comparison**: Pie charts comparing time spent on regular videos vs Shorts

#### 📊 Performance Metrics  
- **Completion Rate Statistics**: Track how often you finish videos you start watching
- **Total Watch Time**: Cumulative time spent watching videos and shorts
- **Video Count Statistics**: Track total videos watched and completion rates

#### 🎨 Visual Features
- **Interactive Charts**: All analytics presented with interactive, theme-aware visualizations
- **Real-time Updates**: Charts update automatically as you watch more content  
- **Dark Theme Support**: Analytics adapt to your chosen theme preference

## Privacy

- **No Data Collection**: The extension does not collect, transmit, or store any data outside your device
- **Local Storage Only**: All data is stored locally using the browser's secure storage API
- **No External Servers**: The extension does not communicate with any external servers

## Security

The extension uses the browser's built-in storage API (`chrome.storage.local`/`browser.storage.local`) which provides:

- **Encrypted Storage**: Data is stored in an encrypted format
- **Access Control**: Only the extension can access the stored data
- **No Console Access**: Data cannot be easily dumped through browser developer tools

## Troubleshooting

### Extension Not Working
1. **Check YouTube Page**: Make sure you're on a YouTube page (youtube.com)
2. **Refresh and Retry**: Refresh the page and try again
3. **Extension Status**: Verify the extension is enabled in your browser
4. **Debug Mode**: Enable debug mode in settings for detailed logging

### History Not Loading  
1. **Popup Refresh**: Close and reopen the popup interface
2. **Page Refresh**: Refresh the YouTube page completely  
3. **Console Logs**: Check browser console for error messages (F12 → Console)
4. **Storage Check**: Verify extension has storage permissions
5. **Improved Diagnostics**: Benefit from enhanced error messages and loading states

### Sync Issues (Firefox)
1. **Firefox Sync Status**: Check if Firefox Sync is enabled in your browser
2. **Sync Indicator**: Look at the sync status indicator in the popup
3. **Manual Sync**: Try triggering a manual sync from the settings tab
4. **Full Sync**: Use "Full Sync" option to clean up and re-sync all data
5. **Network Check**: Ensure stable internet connection for sync operations

### Migration Issues
If you experience issues with data migration from older versions:
1. **Automatic Retry**: The extension will automatically retry migration on next startup
2. **Export First**: Export your data before troubleshooting to preserve it
3. **Clear and Restart**: If problems persist, clear extension data and start fresh
4. **Import Backup**: Use the import feature to restore previously exported data

## Development

### Project Structure
```
├── src/                      # Source files
│   ├── background/          # Background script
│   ├── content/             # Content scripts
│   ├── popup/               # Popup interface
│   ├── shared/              # Shared utilities and components
│   └── manifest/            # Manifest templates
├── dist/                    # Distribution packages
├── helpers/                 # Build helper scripts
├── build.sh                 # Build script
└── youtube-local-history.user.js  # Userscript version
```

### Building
1. Make changes to the source files in the `src/` directory
2. Run `./build.sh` to build both Chrome and Firefox extensions
3. Test the built extensions in your browser
4. The built extensions will be available in the `dist/` directory

## License

MIT License - see LICENSE file for details.

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## Release Notes

See [CHANGELOG.md](CHANGELOG.md) for detailed release notes and version history.

---

## 🎯 **Summary: Why Choose YT re:Watch?**

**YT re:Watch** is the ultimate **YouTube history extension** for users who:
- Switch between **multiple YouTube accounts** (work/personal)
- Want **YouTube history without login** requirements
- Need **YouTube progress tracking** with visual overlays
- Prefer **YouTube privacy** over Google's tracking
- Want **consistent viewing history** regardless of account status

**Key Search Terms:** YouTube multiple accounts, YouTube account switching, YouTube history extension, YouTube progress tracking, YouTube without login, YouTube privacy extension, YouTube progress bar, YouTube viewed videos, YouTube multi-account, YouTube history sync

**Perfect for:** Multi-account users, privacy-conscious users, students, researchers, content creators, families sharing computers, and anyone who wants reliable YouTube progress tracking without Google surveillance.

⭐ **[Install now from Chrome Web Store](https://chromewebstore.google.com/detail/local-youtube-video-histo/pebiokefjgdbfnkolmblaaladkmpilba)** or **[Firefox Add-ons](https://addons.mozilla.org/firefox/addon/yt-rewatch/)**
